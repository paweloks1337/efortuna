<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>üìä Kalkulator Mistrzostw Discorda</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
<style>
:root{--gold:#FFD700;--dark:#111;--green:#00FF88;}
body{
  margin:0;padding:0;font-family:'Poppins',sans-serif;
  background:linear-gradient(180deg,#000,#111);
  color:var(--gold);text-align:center;overflow-x:hidden;
}
nav{background:linear-gradient(90deg,#000,#222);padding:14px 0;box-shadow:0 2px 10px rgba(255,215,0,0.18)}
nav a{color:var(--gold);text-decoration:none;margin:0 18px;font-weight:600;transition:0.25s}
nav a:hover{color:#fff;text-shadow:0 0 8px var(--gold)}
h1{margin:18px 0;text-shadow:0 0 12px var(--gold)}

#loader{
  position:fixed;left:50%;top:48%;width:76px;height:76px;border-radius:50%;
  border:8px solid rgba(255,215,0,0.18);border-top:8px solid var(--gold);
  transform:translate(-50%,-50%);animation:spin 1s linear infinite;z-index:9999;
}
@keyframes spin{100%{transform:translate(-50%,-50%) rotate(360deg)}}
#loader.hidden{display:none}

.container{
  width:90%;max-width:480px;margin:36px auto;background:#1a1a1a;padding:20px;
  border-radius:14px;box-shadow:0 8px 30px rgba(0,0,0,0.6);
  opacity:0;transform:translateY(18px);transition:opacity .8s,transform .8s;
}
.container.show{opacity:1;transform:translateY(0)}

input{
  width:80%;padding:10px;margin:8px 0;border-radius:8px;border:2px solid var(--gold);
  background:#000;color:var(--gold);font-size:1rem;text-align:center;
}
input:focus{outline:none;box-shadow:0 0 12px rgba(255,215,0,0.12)}

.toggle{
  display:flex;justify-content:center;margin:14px 0;
}
.toggle button{
  flex:1;margin:0 6px;padding:10px 0;border:none;border-radius:8px;
  background:#000;color:var(--gold);font-weight:600;cursor:pointer;transition:0.3s;
}
.toggle button.active{
  background:var(--gold);color:#000;box-shadow:0 0 10px var(--gold);
}

button.calc{
  background:var(--gold);color:#000;border:none;border-radius:10px;
  padding:12px 28px;font-weight:700;cursor:pointer;font-size:1.1rem;
  transition:0.3s;margin-top:10px;
}
button.calc:hover{box-shadow:0 0 18px var(--gold)}

.result-box{
  margin-top:28px;text-align:center;animation:fadeUp .5s;
}
.result-label{font-weight:600;color:#ccc;font-size:1rem;margin-top:6px}
.result-value{font-size:1.6rem;font-weight:700;color:var(--green);min-height:36px;}

.toast{
  position:fixed;top:18px;right:18px;background:rgba(0,0,0,0.85);color:var(--gold);
  padding:12px 18px;border-radius:10px;box-shadow:0 0 12px var(--gold);
  opacity:0;transform:translateY(-10px);transition:all .4s;z-index:10001
}
.toast.show{opacity:1;transform:translateY(0)}

@keyframes fadeUp{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}

@media (max-width:600px){
  nav a{margin:0 8px;font-size:.95rem}
  input{width:90%}
}
</style>
</head>
<body>

<div id="loader"></div>

<nav>
  <a href="index.html">üèÜ Ranking</a>
  <a href="kalkulator.html">üìä Kalkulator</a>
</nav>

<h1>üìä Kalkulator Mistrzostw Discorda</h1>

<div class="container" id="calc-container" style="display:none;">
  <input type="number" id="kurs" placeholder="Ca≈Çkowity kurs">
  <input type="number" id="stawka" placeholder="Stawka (PLN)">
  
  <div class="toggle">
    <button id="solo" class="active">SOLO</button>
    <button id="ako">AKO</button>
  </div>
  
  <button class="calc" onclick="oblicz()">OBLICZ</button>
  
  <div class="result-box">
    <div class="result-label">üí∞ Wygrana (po odliczeniu 12% podatku):</div>
    <div id="wygrana" class="result-value">0.00</div>
    <div class="result-label">üèÖ Punkty:</div>
    <div id="punkty" class="result-value">0.00</div>
  </div>
</div>

<div id="toast" class="toast"></div>

<script>
function showToast(msg, ms=2500){
  const t=document.getElementById("toast");
  t.textContent=msg;t.classList.add("show");
  clearTimeout(t._timer);t._timer=setTimeout(()=>t.classList.remove("show"),ms);
}

function animateNumber(el,start,end,ms,dec=2){
  const st=performance.now();
  const step=(now)=>{
    const t=Math.min(1,(now-st)/ms);
    const val=start+(end-start)*t;
    el.textContent=val.toFixed(dec);
    if(t<1)requestAnimationFrame(step);
  };
  requestAnimationFrame(step);
}

let typ="SOLO";
document.getElementById("solo").onclick=()=>{typ="SOLO";setActive("solo")};
document.getElementById("ako").onclick=()=>{typ="AKO";setActive("ako")};
function setActive(id){
  document.getElementById("solo").classList.remove("active");
  document.getElementById("ako").classList.remove("active");
  document.getElementById(id).classList.add("active");
}

function oblicz(){
  const kurs=parseFloat(document.getElementById("kurs").value);
  const stawka=parseFloat(document.getElementById("stawka").value);
  const outWygr=document.getElementById("wygrana");
  const outPkt=document.getElementById("punkty");
  
  if(!kurs||!stawka){showToast("‚ö†Ô∏è Uzupe≈Çnij wszystkie pola!");return;}

  const wygrana=stawka*kurs*0.88; // -12% podatek
  let mnoznik=1;
  
  if(typ==="SOLO"){
    if(kurs<1.5)mnoznik=1;
    else if(kurs<5)mnoznik=3;
    else mnoznik=7.5;
  }else{
    if(kurs<1.5)mnoznik=1;
    else if(kurs<5)mnoznik=2;
    else if(kurs<=10)mnoznik=5;
    else mnoznik=8;
  }

  const punkty=wygrana*mnoznik;

  animateNumber(outWygr,0,wygrana,800,2);
  animateNumber(outPkt,0,punkty,1000,2);
  showToast("‚úÖ Wynik obliczony!");
}

window.addEventListener("load",()=>{
  document.getElementById("loader").classList.add("hidden");
  const cont=document.getElementById("calc-container");
  cont.style.display="block";
  setTimeout(()=>cont.classList.add("show"),100);
});
</script>
</body>
</html>
